<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="426"/>

<div>
<span><div><span style="font-size: 18px;">数据发送</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">发送数据； </span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">POST的数据发送位置： </span></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;"><img src="Ajax下和promise_files/Image.png" type="image/png" style="color: rgb(51, 51, 51);" width="669"/></span></div></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">GET的数据发送位置 </span></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;"><img src="Ajax下和promise_files/Image [1].png" type="image/png" style="color: rgb(51, 51, 51);" width="667"/></span></div></div><div><br style="color: rgb(51, 51, 51);"/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-family: Monaco;">POST发送的数据和GET发送的数据被请求地址接收到后显示的格式不一致</span></div><div><span style="background-color: rgb(251, 250, 248); font-family: Monaco;">GET发送的数据被解析成key和value</span></div><div><span style="background-color: rgb(251, 250, 248); font-family: Monaco;">POST发送的数据会被解析成字符串</span></div><div><span style="background-color: rgb(251, 250, 248); font-family: Monaco;">在发送数据之前ajax.send(&quot;user=admin&quot;),设置请求头信息</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 38, 0); font-family: Monaco;">ajax.setRequestHeader(&quot;Content-Type&quot;,&quot;application/x-</span><a href="http://www-form-urlencoded/" style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 38, 0); font-family: Monaco;">www-form-urlencoded</a><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 38, 0); font-family: Monaco;">&quot;);</span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">封装AJAX的POST请求方式</span></div><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    注意发送数据参数的默认值</span></div><div><br style="color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><span style="font-size: 18px;">Promise</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    这个对象有</span><span style="font-size: 14px; orphans: 2; widows: 2; background-color: rgb(251, 250, 248); color: rgb(47, 47, 47); font-family: Monaco;">三种状态：Pending（进行中）、Resolved（已完成，又称 Fulfilled）和 Rejected（已失败）。只有异步操作的结果，</span><span style="font-size: 14px; orphans: 2; widows: 2; background-color: rgb(251, 250, 248); color: rgb(47, 47, 47); font-family: Monaco;">可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是 Promise 这个名字的由来，它的英语意思就是「承诺」，表示其他手段无法改变。</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">这个对象状态有一定顺序， 从 Pending 到Resolved 再到 Rejected 这个顺序不可逆;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    1.进行中</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    2.成功了</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    3.失败了</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">先看下promise对象怎么用:</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">1.首先要实例化promise;</span></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(107, 231, 72); font-family: Monaco;">    var p = new Promise()</span></div><div><br/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">2.实例化的时候那，这个Promise对象接受一个函数参数,这个函数参数有两个参数: success 和 failed;</span></div><div><font style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    var p = new Promise(function(</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 70, 53); font-family: Monaco; font-weight: bold;">success,failed</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">){</span></font><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">})</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">3.然后在函数内部调用</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 122, 116); font-family: Monaco; font-weight: bold;">success 代表</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 122, 116); font-family: Monaco;">决定(成功)</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">;</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(107, 231, 72); font-family: Monaco; font-weight: bold;">failed 代表 </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(107, 231, 72); font-family: Monaco;">失败</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">    var p = new Promise(function(success</span><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">,failed</span><span style="font-size: medium; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">){</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        //做一些异步操作</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        setTimeout(function(){</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">           </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 38, 0); font-family: Monaco;">success(&quot;成功&quot;)</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">;</span></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        }, Math.round(Math.random()*1000));</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        setTimeout(function(){</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">           </span> <span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(0, 249, 0); font-family: Monaco;">failed(&quot;失败了&quot;)</span><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">;</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        },500)</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    });</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">4.紧接着是 resolved的好兄弟</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 122, 116); font-family: Monaco; font-weight: bold;">then()</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    then 方法接受两个参数，两个参数都是函数，第一个函数成功调用，第二个函数失败时调用;</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    而且then函数会等待，</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 70, 53); font-family: Monaco; font-weight: bold;">什么时候</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 70, 53); font-family: Monaco; font-weight: bold;">promise对象状态改变了， 什么时候then执行</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">;</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><font style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    p.then(</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 0, 0); font-family: Monaco;">function(value){</span></font></div><div><br style="color: rgb(51, 51, 51);"/></div><div><font face="Monaco" style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(255, 0, 0);">        console.log(value);  </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(255, 0, 0); font-weight: bold;">//成功时调用</span></font></div><div><br style="color: rgb(51, 51, 51);"/></div><div><font face="Monaco" style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(255, 0, 0);">    }</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(51, 51, 51);">,</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(77, 206, 29);">function(value){</span></font></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(77, 206, 29); font-family: Monaco;">        console.log(value);</span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(77, 206, 29); font-family: Monaco; font-weight: bold;"> //失败时调用</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><font face="Monaco" style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(77, 206, 29);">    }</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(51, 51, 51);">)</span></font></div><div><br/></div></div><div><br/></div><div><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">promise</span><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">改造</span><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">ajax</span><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">依赖调用</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    使用promise检测ajax的请求状态，利用promise的成功状态函数，返回ajax请求到的数据</span></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div><div>跨域问题</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">什么情况下会发生跨域：</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">当本机请求服务器上数据的时候：会发生跨域；</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">当本地服务器请求其他服务器数据的时候回发生跨域；</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">跨域怎么处理那？</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">跨域：</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;"><img src="Ajax下和promise_files/Image [2].png" type="image/png" style="color: rgb(51, 51, 51);"/></span></div></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">1.为什么有跨域</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 122, 116); font-family: Monaco;">    同源策略：基于浏览器的安全考虑，浏览器各个厂商之间出现了一个约定，这个约定叫做同源策略。这个约定的主要内容就是，域和域之间数据不共通。</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">2.跨域的用途</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;"><img src="Ajax下和promise_files/Image [3].png" type="image/png" style="color: rgb(51, 51, 51);" width="373"/></span></div></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">当网站发展壮大到一定地步的时候，会建立很多的节点，各个节点的IP是不同的，所以跨域问题就会出现。</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">当测试阶段数据和本机的IP不通用的时候，那么跨域问题也会发生。</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">3.为什么要跨域。</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">因为要获得其他域中的数据；</span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">4.跨域的原理</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">JSONP</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><font style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">JSO</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">NP是什么那？</span></font></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">说到JSONP不得不说一说程序员了：</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;"><img src="Ajax下和promise_files/u=2562649191,1937553874&fm=21&gp=0.jpg.gif" type="image/gif" style="color: rgb(51, 51, 51);"/></span></div></div><div style="text-align: center;"><div><br style="color: rgb(51, 51, 51);"/></div></div><div style="text-align: center;"><div><br style="color: rgb(51, 51, 51);"/></div></div><div style="text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;"><img src="Ajax下和promise_files/153R44V6-0.jpg" type="image/jpeg" style="color: rgb(51, 51, 51);" width="192"/></span></div></div><div style="text-align: center;"><div><br style="color: rgb(51, 51, 51);"/></div></div><div style="text-align: center;"><div><br style="color: rgb(51, 51, 51);"/></div></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">JSONP是伟大程序员与安全策略的斗争中发明的；</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">JSONP就是在URL中调用function；</span></div></div><div><br/></div><div><span style="font-size: 18px;">跨域</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">function handle(res){</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    alert(res.city+&quot;:&quot;+res.region_name+&quot;:&quot;+res.ip)</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">var script=document.createElement('script');</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">script.src='</span><a href="http://freegeoip.net/json/?callback=handle" style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">http://freegeoip.net/json/?callback=handle</a><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">'</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">window.onload=function(){</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    body.appendchild(script)</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div><br/></div><div><br/></div><div><span style="font-size: 12px;"><a href="Ajax下和promise_files/ajax.js"><img src="Ajax下和promise_files/1428b11f77fed255a22a5da6f8568c72.png" alt="ajax.js"></a></span></div><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 18px;">百度搜索接口：</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: monospace;">script.src = &quot;</span><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&amp;json=1&amp;p=3&amp;sid=22084_1436_13548_21120_22036_22073&amp;req=2&amp;csor=0&amp;cb=callback</span><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: monospace;">”;</span></div><div><br/></div><div><br/></div><div><span style="font-size: 12px;"><a href="Ajax下和promise_files/baidu_search2.html"><img src="Ajax下和promise_files/b4069084c6340a60f498e8cdb4cb1f2c.png" alt="baidu_search2.html"></a></span></div><div><br style="font-family: monospace; font-size: 12px; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 18px;">分页效果</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><br/></div><div><br/></div><div><span style="font-size: 12px;"><a href="Ajax下和promise_files/page.rar"><img src="Ajax下和promise_files/e45fb87413149e08b4006d7b04c5da04.png" alt="page.rar"></a></span></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div><span style="color: rgb(255, 38, 0);">在js中一行代码结束，最好加上分号</span></div><div><br/></div><div>豆瓣读书接口：</div><div>https:api.douban.com/v2/book/search?q=javascript&amp;count=1&amp;callback=回调函数名</div><div><br/></div><div><br/></div><div><br/></div><div>//此接口可能已经废弃</div><div>http://freegeoip.net/json/?callback=回调函数名</div><div>地理位置接口</div><div><br/></div><div><br/></div><div><br/></div><div>在php中加入以下两句就可以实现跨域访问</div><div><span style="box-sizing: border-box; font-size: 14px; min-height: 26px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; line-height: 26px;">header('Access-Control-Allow-Origin:*');//允许所有来源访问</span></div><div><span style="box-sizing: border-box; font-size: 14px; min-height: 26px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; line-height: 26px;">header('Access-Control-Allow-Method:POST,GET');//允许访问的方式</span></div><div><br/></div></span>
</div></body></html> 